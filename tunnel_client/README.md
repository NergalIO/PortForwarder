# Tunnel Client

–ö–ª–∏–µ–Ω—Ç —Å GUI –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ tunnel server. –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –≤–Ω–µ—à–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ –ª–æ–∫–∞–ª—å–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º.

> üìñ –°–º. —Ç–∞–∫–∂–µ [–æ–±—â–∏–π README](../README.md) –¥–ª—è –æ–±—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–µ–∫—Ç–µ.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–æ–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:

- **presentation** - GUI (CustomTkinter)
- **application** - Use cases (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
- **domain** - –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
- **infrastructure** - –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (—Å–µ—Ç—å, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- **interfaces** - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏)
- **common** - –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (–æ—à–∏–±–∫–∏, –ø—Ä–æ—Ç–æ–∫–æ–ª, threading bridge)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd tunnel_client
pip install -e .
```

## –ó–∞–ø—É—Å–∫

### –°–ø–æ—Å–æ–± 1: –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
cd tunnel_client
pip install -e .
tunnel-client
```

### –°–ø–æ—Å–æ–± 2: –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (Windows)

```powershell
cd tunnel_client
python run_client.py
```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ —Ñ–∞–π–ª—É `run_client.py` –≤ –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–µ Windows.

### –°–ø–æ—Å–æ–± 3: –ó–∞–ø—É—Å–∫ –∫–∞–∫ –º–æ–¥—É–ª—å

```bash
cd tunnel_client
python -m client_app.main
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è Windows

1. **Python 3.11+** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ PATH
2. **CustomTkinter** –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–∞–∫–µ—Ç–∞
3. –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å GUI, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Tkinter:
   ```powershell
   # –û–±—ã—á–Ω–æ Tkinter –∏–¥–µ—Ç –≤ –∫–æ–º–ø–ª–µ–∫—Ç–µ —Å Python
   python -m tkinter
   ```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Ç—Ä–µ–º—è –ø–∞–Ω–µ–ª—è–º–∏:

1. **Connect View** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
   - Server Host
   - Server Port
   - Token
   - Local Host
   - Local Port

2. **Status View** - –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
   - Connection status
   - Assigned Public Port
   - Active Connections count
   - Status indicator

3. **Logs View** - –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç:
```bash
tunnel-client
```

2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
   - Server Host: `localhost`
   - Server Port: `7000`
   - Token: `mysecret` (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ç–æ–∫–µ–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–∞)
   - Local Host: `localhost`
   - Local Port: `8080` (–ø–æ—Ä—Ç –≤–∞—à–µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞)

3. –ù–∞–∂–º–∏—Ç–µ "Connect"

4. –ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤—ã —É–≤–∏–¥–∏—Ç–µ:
   - Status: Connected (–∑–µ–ª–µ–Ω—ã–π)
   - Public Port: –Ω–æ–º–µ—Ä –ø–æ—Ä—Ç–∞, –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–æ–º
   - Active Connections: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

5. –í–Ω–µ—à–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ `server_ip:public_port`, –∏ –∏—Ö —Ç—Ä–∞—Ñ–∏–∫ –±—É–¥–µ—Ç –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ –≤–∞—à–µ–º—É –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å–µ—Ä–≤–∏—Å—É –Ω–∞ `localhost:8080`

## –ü—Ä–æ—Ç–æ–∫–æ–ª

–ö–ª–∏–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç –∂–µ –±–∏–Ω–∞—Ä–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª, —á—Ç–æ –∏ —Å–µ—Ä–≤–µ—Ä. –°–º. [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é tunnel_server](../tunnel_server/README.md#–ø—Ä–æ—Ç–æ–∫–æ–ª) –∏–ª–∏ [–æ–±—â–∏–π README](../README.md#–ø—Ä–æ—Ç–æ–∫–æ–ª).

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
pytest tests/
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tunnel_client/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ client_app/
‚îÇ       ‚îú‚îÄ‚îÄ main.py
‚îÇ       ‚îú‚îÄ‚îÄ presentation/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ gui/
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ views/
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ controllers/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ viewmodels/
‚îÇ       ‚îú‚îÄ‚îÄ application/
‚îÇ       ‚îú‚îÄ‚îÄ domain/
‚îÇ       ‚îú‚îÄ‚îÄ infrastructure/
‚îÇ       ‚îú‚îÄ‚îÄ interfaces/
‚îÇ       ‚îî‚îÄ‚îÄ common/
‚îú‚îÄ‚îÄ tests/
‚îî‚îÄ‚îÄ pyproject.toml
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π UI**: Asyncio loop —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ, UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ queue –∏ `root.after`
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ –ª–æ–≥–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ Logs View
- **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ**: –ü—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ –≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç CustomTkinter –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ —Ç–µ–º–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [–û–±—â–∏–π README –ø—Ä–æ–µ–∫—Ç–∞](../README.md)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Tunnel Server](../tunnel_server/README.md)

